この記事では、Kubernetes の YAML ファイルを検証し、ベストプラクティスとコンプライアンスをスコア化するための 6 つの静的ツールを比較しています。
長い記事なので 4 回に分けてお送りします。今回は第 3 回目です。
今回は Copper と Conftest についてです。
Copper
Copper V2 はカスタムチェックを使ってマニフェストをバリデーションするフレームワークです。config-lint のような感じです。
しかし、Copper はチェックを設定するために YAML を使用しません。
その代わりに、テストは JavaScript で書かれており、Copper は Kubernetes オブジェクトの読み込みやエラーの報告をアシストするいくつかの基本的なヘルパーを持つライブラリを提供しています。
Copper をインストールするには公式ドキュメントに従ってください。
この記事を書いている時点での最新リリースは 2.0.1 です。
config-lint と同様に、Copper にはビルドインのチェック機能はありません。
デプロイメントが my-company.com のような信頼できるリポジトリからのみコンテナイメージをプルできるようにチェックを書いてみましょう。
